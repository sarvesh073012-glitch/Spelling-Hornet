<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Spelling Bee</title>
<style>
  html, body { margin:0; padding:0; height:100%; display:flex; flex-direction:column; align-items:center; justify-content:flex-start; font-family:Arial,sans-serif; background:white; }
  h1 { font-size:48px; text-align:center; margin-top:30px; }
  #progress { font-size:20px; margin-top:10px; text-align:center; }
  input { padding:12px; font-size:18px; width:300px; text-align:center; border:2px solid #333; border-radius:8px; margin-top:40px; }
  #message { margin-top:20px; font-size:20px; }
  #speakButton, #listenButton { margin-top:30px; padding:12px 24px; font-size:18px; background:#333; color:white; border:none; border-radius:10px; cursor:pointer; }
  #speakButton:hover, #listenButton:hover { background:#555; }
  #footer { position:absolute; bottom:5px; font-size:10px; color:#555; text-align:center; width:100%; }
</style>
</head>
<body>

<h1>Spelling Bee 2025-2026 ğŸ</h1>
<div id="progress">Word 1 of 1</div>

<input id="answer" type="text" placeholder="Type the word or use voice">
<div id="message"></div>
<button id="speakButton">ğŸ”Š Hear Word</button>
<button id="listenButton">ğŸ™ï¸ Say Word</button>
<div id="footer">Created by Sarvesh J.</div>
<audio id="ding" src="https://actions.google.com/sounds/v1/cartoon/wood_plank_flicks.ogg"></audio>

<script>
const apiKey = "sk_19fbbb0cafacac2341711f776eff35378e9e50c8de667a05"; // ElevenLabs API key
const voiceId = "5l5f8iK3YPeGga21rQIX"; // ElevenLabs voice ID

const words = [
"tag","twigs","insects","moment","send","taffy","teeth","ajar","deck","comfy",
"shortcut","basil","stuck","stretch","bait","triple","snug","tight","lure","satin",
"fish","candy","cluster","ahoy","hold","scrunch","forest","signal","mind","ruby",
"hollow","answer","stay","close","spinning","shuffle","scrub","tackle","baffling",
"dollop","draw","wire","sizzling","minnows","brown","skater","hoist","silver","cozy",
"giant","search","before","bucket","remind","circus","tint","chance","mango","writing",
"milk","baskets","coral","kitchen","yawn","tender","jangle","sugar","tank","paste",
"shimmer","awkward","want","melon","blossoms","crowd","farmer","swampy","seep","sweet",
"pond","parent","studded","wheels","skirt","tail","focus","faint","sharks","hockey",
"distress","fruit","goats","woozy","limbs","ahead","senor","unicorn","faraway","heater",
"pirates","understand","wooden","leaning","breakfast","window","acrobat","message",
"chocolate","forepaw","elephant","hedgehog","recipe","garbage","surprise","mermaid",
"bombarded","disability","incredible","leather","countess","nervous","peppercorn",
"cartwheel","raise","weather","zooming","attacked","turnout","eaten","streetlights",
"journey","courtyard","shouting","asleep","curious","dinosaur","brilliant","vacuum",
"gorgeous","monsoon","avocado","valentine","february","formation","especially",
"hesitate","buffalo","dubious","dissolving","scorcher","sequins","ebony","nomad",
"scavenger","gallop","foreign","billowed","fragments","fabulous","paltry","skewer",
"deflated","lanky","verdict","berlin","unleash","fluently","garbled","lunacy","ration",
"mysterious","encourages","conjure","cosmetics","brandished","imitation","bracken",
"crawdad","sardines","miniature","noggin","frustration","anguish","receptionist","neon",
"unruly","conical","preamble","rakish","mascot","rickety","plausible","hypnosis","aroma",
"lilt","reprimanding","rotunda","moustache","pediatric","commotion","gusto","porridge",
"oblivion","toiletries","artifacts","democracy","immigrants","gleaned","rummage","steeple",
"jeered","perfume","beige","spectators","winsome","sinister","ancestral","lanyards",
"prattling","tuxedo","grimace","suspicious","galore","discoveries","gaunt","parchment",
"emporium","lurches","enormous","ramshackle","atrium","language","geranium","fugitive",
"eccentric","prognosis","nautical","heron","savant","almanac","hippies","samosas","campaign",
"pistachio","mosque","zombielike","warlock","colossus","convulsively","dimensional",
"garishly","graffitist","everest","dexterity","cavorting","marauder","conscience",
"battlements","deferential","albatross","khaki","opalescent","asphalt","yiddish","talcum",
"tranquilizer","equestrian","plaited","monsieur","manticores","prestigious","fraidycat",
"guttural","lomein","courier","sans","serif","psyche","stucco","frankenstein","schema",
"etcetera","vidimus","delphine","slough","archipelago","serape","puissance","pinioning",
"chignon","pheromone","galleon","magnanimous","chartreuse","wainscoting","nehru","gangly",
"comrades","ultimatum","prototype","swaggering","sporadic","whinnying","cravenly","chimneys",
"promenade","squalor","mulberry","riveted","repugnant","memoirs","hypocritical","plaid",
"invincible","cylinders","chlorine","dirge","renowned","ominous","traumatic","zeal",
"parachute","muffler","receipts","whittled","laborious","syndrome","solemnly","depots",
"appointment","premises","begrudge","fiberglass","foreseeable","safari","contentious",
"salvaged","ratify","lasagna","precocious","fissures","scalpel","substantially","ensemble",
"enthusiastic","reclusive","mercantile","cadre","discipline","compassionate","formidable",
"lye","unfamiliar","bulletin","propaganda","belfry","scurrying","alfalfa","marquee",
"lacrosse","dignitaries","officially","proficient","sluice","pizzeria","crematorium",
"compunction","cajolery","dismissal","bayonet","emphatically","vigilance","skittish",
"amicable","hyperventilated","residuals","careened","exuberant","ostracism","boutique",
"nomination","beautician","onslaught","peroxide","opportunist","equations","ruefully",
"aristocracy","dictatorship","assignment","misanthrope","apocalypse","tuberculosis",
"patriarchs","bollweevil","oswego","barricade","chandelier","camphor","diphtheria",
"confreres","dulce","tucson","baklava","anonymously","concierge","paparazzi","corbels",
"unparalleled","latticework","pumpernickel","trebuchets","barrette","hibiscus","pogrom",
"kilimanjaro","chassis","tamale","bursitis","fraulein","junket","maracas","patisserie",
"protege","quandary","gyroplane","cycads","horsdoeuvres","erie","burpees","sarsaparilla",
"maquisards","gingham","adriatic","maitre","aubusson","silhouette","piccolo","cannelloni",
"charolais","auxiliary","aurevoir","boulangerie","thesaurus","tulle","bronchitis"
];

let index = 0;
let currentWord = words[index];
const message = document.getElementById("message");
const answer = document.getElementById("answer");
const progress = document.getElementById("progress");
const ding = document.getElementById("ding");
const speakButton = document.getElementById("speakButton");

updateProgress();

// ğŸ”Š Play word
async function speakWord() {
  const response = await fetch(`https://api.elevenlabs.io/v1/text-to-speech/${voiceId}`, {
    method: "POST",
    headers: {
      "Content-Type": "application/json",
      "xi-api-key": apiKey
    },
    body: JSON.stringify({
      text: currentWord,
      voice_settings: { stability:0.5, similarity_boost:0.75 }
    })
  });
  const blob = await response.blob();
  const url = URL.createObjectURL(blob);
  const audio = new Audio(url);
  audio.play();
}

function updateProgress() {
  progress.textContent = `Word ${index+1} of ${words.length}`;
}

// âœ… Typing answer
answer.addEventListener("keydown", async (e) => {
  if (e.key === "Enter") checkAnswer(answer.value.trim().toLowerCase());
});

// ğŸ¤ Speech Recognition
const listenButton = document.getElementById("listenButton");
let recognition;

if ("webkitSpeechRecognition" in window) {
  recognition = new webkitSpeechRecognition();
  recognition.lang = "en-US";
  recognition.interimResults = false;
  recognition.maxAlternatives = 1;

  recognition.onresult = function(event) {
    const spoken = event.results[0][0].transcript.toLowerCase().trim();
    checkAnswer(spoken);
  };

  recognition.onerror = function() {
    message.textContent = "âŒ Didn't catch that â€” try again!";
    message.style.color = "red";
  };
}

listenButton.addEventListener("click", () => {
  message.textContent = "ğŸ™ï¸ Listening...";
  message.style.color = "black";
  recognition.start();
});

// âœ… Check answer function
function checkAnswer(input) {
  answer.value = input;
  if (input === currentWord.toLowerCase()) {
    message.textContent = "âœ… Correct!";
    message.style.color = "green";
    ding.play();
    setTimeout(() => {
      index++;
      if(index < words.length){
        currentWord = words[index];
        answer.value = "";
        message.textContent = "";
        updateProgress();
      } else {
        message.textContent = "ğŸ‰ You finished all the words!";
        progress.textContent = "Done!";
        answer.style.display = "none";
        speakButton.style.display = "none";
        listenButton.style.display = "none";
      }
    }, 700);
  } else {
    message.textContent = `âŒ "${input}" â€” try again!`;
    message.style.color = "red";
  }
}

speakButton.addEventListener("click", speakWord);

</script>
</body>
</html>
